<link rel="stylesheet" href="/css/login.css">

<div class="content-card">
        <h1 style="text-align: center;">STATUS:</h1>
        {{#if isOpen}}
            <h2 style="text-align: center;">OPEN FOR BUSINESS</h2>
            <div style='text-align:center'>
            <form class="leave-form" action="/vendor/setLocation/leave" method="post">
                <input class='normal-button' type="submit" value="Mark As Closed">
            </form>
            </div>
        {{else}}
        <h2 style="text-align: center;">CLOSED</h2>
        <div style='text-align:center'>
        <form class="Loc" action="/vendor/setLocation" method="post">
            <label for="locDescription">Location:</label><br>
            <textarea rows="2" cols="30" id='locDescription' name="locDescription" value="" placeholder="Enter your park location"></textarea><br>
            <input id = "latitude" name = "latitude" hidden>
            <input id = "longitude" name = "longitude" hidden>
            <button class='normal-button' style='padding:5px' type="button" onclick="getLocation()">Get Location</button><br>
            <input class='normal-button' type="submit" value="Mark As Open!">
        </form>
        </div>
        {{/if}}
    </div>
</div>

<script>
    function getLocation(){
        function success(position) {
            document.getElementById("latitude").value = position.coords.latitude;
            document.getElementById("longitude").value = position.coords.longitude;
        }

        function error(){
            status.textContent = 'Unable to retrieve your location';
        }

        navigator.geolocation.getCurrentPosition(success, error);
    }
</script>