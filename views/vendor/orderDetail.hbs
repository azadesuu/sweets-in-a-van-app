{{!-- <link rel="stylesheet" href="/css/reset.css">
<link rel="stylesheet" href="/css/orderDetail.css"> --}}
<body>
    <div class = "top">
        <div text-align='left'><a href="/vendor/{{vendor.van_ID}}/orders">< </a></div>
        {{!-- <div> </div> --}}
        <div>
            <p>ORDER #{{order.order_ID}}</p>
        </div>
    </div>
    <div class='cards'>
                <div>
                     {{!-- <p>Order time: {{order.when}}</p> --}}
                     {{!-- <p>Van Name: {{order.van_ID}}</p> --}}
                {{!-- need van location in modal --}}
                    {{!-- <p>order ID: {{order.order_ID}}</p> --}}
                    <p>customer given name: {{order.customerGivenName}}</p>
                    {{!-- <p>Van Location: {{order.van_latitude}}, {{order.van_lontitude}}</p> --}}
                    <p >time remain before discount: <span id = "time">15:00</span></p>
                </div>
    </div>
    <div class='card'>
        <div>
            <table>
                <tbody>
                    <tr><th>Food Name</th> <th> Quantity</th></tr>
                    {{#each order.orderItems}}
                    <tr> <td>{{this.item_name}}</td> <td>{{this.quantity}}</td> </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>

    <div >
        <form action="/vendor/{{vendor.van_ID}}/orders/{{order.order_ID}}/fulfilled" method="POST">
        <p class="submit-btn">
            <button type='submit'>mark this order fulfilled</button>
        </p>
        </form>
        <form action="/vendor/{{vendor.van_ID}}/orders/{{order.order_ID}}/complete" method="POST">
        <p class="submit-btn">
            <button type='submit'>mark this order completed</button>
        </p>
        </form>
    </div>
</body>

<script>
    {{!-- const mongoose = require("mongoose")
    const Order = mongoose.model("orders") --}}

    function startTimer(duration, display) {
        var timer = duration, minutes, seconds;
        setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                timer = duration;
            }
        }, 1000);
    }

    window.onload = function () {
        var time = 900,
            display = document.querySelector('#time');
        startTimer(time, display);
    };
</script>